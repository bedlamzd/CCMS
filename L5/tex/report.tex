\include{preambula}

% Document specific settings
\graphicspath{{./img/}}
\begin{pycode}
    data_file = './../data.txt'
    given = []
    with open(data_file, 'r') as data:
        for line in data:
            given.append(line.split())
    K1, K2, T1, _ = given[0]
\end{pycode}

\begin{document}
    \include{title_page}
    \setcounter{page}{2}
    
    \section{Цель}
        \begin{enumerate}
            \item Исследовать принцип работы цифрового ПИ-регулятора
            \item Синтезировать систему с объектом управления и ПИ-регулятором
            \item Исследовать реакцию систему при различных параметрах
            \item Исследовать реакцию системы при добавлении в неё Д-регулятора
        \end{enumerate}
        
    \section{Дано}
        Для каждого пункта даны следующие коэффициенты:
        \begin{center}
            \pys{$K_1=!{K1},\,K_2=!{K2},\,T_1=!{T1}$}
        \end{center}
    \section{Выполнение работы}
        \subsection{Приближенная настройка}
            \paragraphbr{Вывод ПИ-регулятора}
                Допустим производится настройка системы на технический оптимум.\\
                $W_{\mbox{оу}}(s)=\dfrac{K_1 K_2}{(T_1s+1)(T_2s+1)}$ --- передаточная функция объекта управления\\
                $W_{\mbox{рс}}(s)=\dfrac{1}{2T_\mu s(T_\mu s+1)}$ --- передаточная функция разомкнутой системы.\\
                Примем \pys{$ T_2 = !{given[0][3]} $} и $ T_\mu = T_2 $, тогда:
                \[
                    W_{\mbox{рег}}(s)=\dfrac{W_{\mbox{рс}}(s)}{W_{\mbox{оу}}(s)}=
                    \dfrac{\cfrac{1}{2T_\mu s(T_\mu s+1)}}{\cfrac{K_1 K_2}{(T_1s+1)(T_\mu s+1)}}=
                    \dfrac{T_1}{2T_\mu K_1 K_2}+\dfrac{1}{2T_\mu K_1 K_2 s}
                \]
            \paragraphbr{Исследование цифрового ПИ-регулятора}
                \begin{figure}[H]
                    \centering\includegraphics[width=\linewidth, height=\textheight, keepaspectratio]{model-pi_isled}
                    \caption{Система исследования цифрового ПИ-регулятора}
                \end{figure}
                \begin{figure}[H]
                    \centering\includegraphics[scale=1]{pi_regul-1}
                    \caption{Сравнение аналогового и цифрового ПИ-регулятора}
                \end{figure}
                На графике видно, что реакции почти совпадают, но дискретная система имеет большее перерегулирование. Это связано с наличием в дискретной системе запаздывания.
        \subsection{Настройка с учётом дискретизации}
            Запаздывание связанное с дискретностью системы можно компенсировать, но есть два возможных случая, которые необходимо рассмотреть.
            \subsubsection{Случай $ T_2 \approx T_0 $}
                \subparagraphbr{Вывод регулятора}
                $ T_\text{зап} = \dfrac{T_0}{2} $\\
                $W_{\mbox{оу}}(s)=\dfrac{K_1 K_2}{(T_1s+1)(T_2s+1)(T_\text{зап}s+1)} \approx \dfrac{K_1 K_2}{(T_1s+1)((T_2+T_\text{зап})s+1)}$ --- передаточная функция объекта управления\\
                Данное преобразование возможно только при $ T_2 \approx T_0 $, т.к. при перемножении член $ T_2\cdot\dfrac{T_0}{2} $ получается пренебрежимо малым.\\
                $W_{\mbox{рс}}(s)=\dfrac{1}{2T_\mu s(T_\mu s+1)}$ --- передаточная функция разомкнутой системы.\\
                \vspace{1em}\\
                Примем \pys{$ T_2 = !{given[1][3]} $} $ T_\mu = T_2+T_\text{зап} $, тогда:
                \[
                    W_{\mbox{рег}}(s)=\dfrac{T_1}{2T_\mu K_1 K_2}+\dfrac{1}{2T_\mu K_1 K_2 s}
                \]
                \subparagraphbr{Реакция системы}
                    \begin{figure}[H]
                        \centering\includegraphics[width=\linewidth, height=\textheight, keepaspectratio]{model-OM1}
                        \caption{Система исследования запаздывания ПИ-регулятора}
                    \end{figure}
                    \begin{figure}[H]
                        \centering\includegraphics[scale=0.8]{pi_regul-2}
                        \caption{Сравнение аналогового и цифрового ПИ-регулятора}
                    \end{figure}
                    
                    По графику видно, что компенсация запаздывания удалась и реакции систем совпадают. При этом значения времени переходного процесса и перерегулирования отличаются от теоретических незначительно. Это отличие возникает из-за влияния сомножителя, которым мы пренебрегли.
                    
            \subsubsection{Случай $ T_2 \gg T_0 $}
                \subparagraphbr{Вывод регулятора}
                $ T_\text{зап} = \dfrac{T_0}{2} $\\
                $W_{\mbox{оу}}(s)=\dfrac{K_1 K_2}{(T_1s+1)(T_2s+1)(T_\text{зап}s+1)}$ --- передаточная функция объекта управления\\
                $W_{\mbox{рс}}(s)=\dfrac{1}{2T_\mu s(T_\mu s+1)}$ --- передаточная функция разомкнутой системы.\\
                \vspace{1em}\\
                Примем \pys{$ T_2 = !{given[2][3]} $} $ T_\mu = T_\text{зап} $, тогда:
                \[
                    W_{\mbox{рег}}(s)=\dfrac{(T_1s+1)(T_2s+1)\cancel{(T_\text{зап}s+1)}}{2T_\mu K_1 K_2 s\cancel{(T_\mu s+1)}} = \dfrac{T_1s+1}{2T_\mu K_1 K_2 s}(T_2s+1)
                \]
                Но в данном случае получается идеальный ПД-регулятор, который нереализуем. Чтобы обойти это, дополним его до реального.
                \[
                    W_{\mbox{рег}}(s) = \dfrac{T_1s+1}{2T_\mu K_1 K_2 s}\dfrac{(T_2s+1)}{\frac{T_0}{2}s+1}
                \]
                Тогда $ T_\mu = \dfrac{T_0}{2} +\dfrac{T_0}{2}$
                \subparagraphbr{Реакция системы}
                    \begin{figure}[H]
                        \centering\includegraphics[width=\linewidth, height=\textheight, keepaspectratio]{model-OM2}
                        \caption{Система исследования запаздывания ПИ-регулятора}
                    \end{figure}
                    \begin{figure}[H]
                        \centering\includegraphics[scale=0.8]{pi_regul-4}
                        \caption{Сравнение аналогового и цифрового ПИ-регулятора}
                    \end{figure}
                    
                    По графику видно, что компенсация запаздывания удалась и реакции систем совпадают. Значения времени переходного процесса и перерегулирования отличаются от теоретических незначительно. При этом данная система реагирует быстрее, чем предыдущая, поскольку в этой системе итоговое $ T_\mu = T_0 $, что в полтора раза меньше.
                    Отличие характеристик от теоретических же связано с множителем $ \dfrac{1}{\frac{T_0}{2}s+1} $, который мы внесли для дополнения ПД регулятора до реального.
                    
    \section{Вывод}
        В работе исследованы характеристики цифрового ПИ-регулятора. Проведены настройки при различных значениях параметра $ T_2 $.
        
        Показано, что при достаточно малом $ T_2 $ можно использовать упрощённую настройку для компенсации запаздывания и при такой настройке реакция практически не отличается от теоретической.
        
        Показано, что при $ T_2 $ гораздо больше $ T_0 $, когда невозможно пренебречь множителем $ T_2\cdot\dfrac{T_0}{2} $, приходится использовать последовательное соединение ПИ и ПД регуляторов для компенсации запаздывания. Реакция такой системы ближе к теоретическим значениям, но не совпадает с ними из-за добавочного множителя $ \dfrac{1}{\frac{T_0}{2}s+1} $. Однако такая система, при прочих равных, оказывается быстрее системы с маленьким $ T_2 $.
        
        Таким образом можно сделать вывод о том, что последовательное соединение ПИ и ПД регулятора отрабатывает быстрее чем ПИ и более предпочтительно в использовании, если важно быстродействие системы.
\end{document}





























